/* Make sub-zone hover area larger for easier interaction */
.sub-zone {
    position: absolute;
    /* ...existing code... */
}
.sub-zone::before {
    content: '';
    position: absolute;
    left: -32px;
    top: -32px;
    right: -32px;
    bottom: -32px;
    z-index: 0;
    pointer-events: auto;
}
/* Hide resize and delete buttons on sub-zones by default, show on hover */
.sub-zone .resize-handle,
.sub-zone .remove-subzone-btn {
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.18s;
}
.sub-zone:hover .resize-handle,
.sub-zone:hover .remove-subzone-btn {
    opacity: 1;
    pointer-events: auto;
}
/* Prevent text selection on the entire app */
body, * {
    user-select: none;
    -webkit-user-select: none;
    -ms-user-select: none;
    -moz-user-select: none;
}
/* Sub-zone layout feature styles */
.add-subzone-btn {
    margin-left: 14px;
    width: 44px;
    height: 44px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 2.1rem;
    font-weight: 900;
    background: linear-gradient(135deg, #3b82f6 60%, #22d3ee 100%);
    color: #fff;
    border: none;
    border-radius: 50%;
    box-shadow: 0 4px 16px 0 rgba(30, 60, 120, 0.18);
    cursor: pointer;
    transition: background 0.18s, box-shadow 0.18s, transform 0.12s;
    outline: none;
    position: relative;
    z-index: 2;
}
.add-subzone-btn:hover, .add-subzone-btn:focus {
    background: linear-gradient(135deg, #2563eb 60%, #06b6d4 100%);
    box-shadow: 0 6px 24px 0 rgba(30, 60, 120, 0.22);
    transform: scale(1.11) rotate(-8deg);
}
.add-subzone-btn:active {
    background: linear-gradient(135deg, #1e40af 60%, #0e7490 100%);
    transform: scale(0.97) rotate(2deg);
}
.shape-menu {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    flex-direction: row;
    gap: 36px;
    background: #fff;
    border: 3.5px solid #2563eb;
    border-radius: 32px;
    box-shadow: 0 12px 40px rgba(30,60,120,0.22);
    padding: 32px 36px;
    z-index: 40;
    min-width: 420px;
    min-height: 160px;
    align-items: center;
    justify-content: center;
    overflow: visible;
}
.shape-btn {
    background: none;
    border: 4px solid transparent;
    cursor: pointer;
    border-radius: 24px;
    padding: 0;
    transition: background 0.18s, border 0.18s;
    outline: none;
    width: 110px;
    height: 110px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    overflow: visible;
}
.shape-btn svg {
    width: 90px !important;
    height: 90px !important;
    display: block;
    margin: 0 auto;
    overflow: visible;
}
.rect-btn svg rect {
    fill: #2563eb !important;
    stroke: #1e40af !important;
    opacity: 1 !important;
}
.circ-btn svg circle {
    fill: #eab308 !important;
    stroke: #b45309 !important;
    opacity: 1 !important;
}
.tri-btn svg polygon {
    fill: #10b981 !important;
    stroke: #047857 !important;
    stroke-width: 6px;
    opacity: 1 !important;
}
.shape-btn:hover, .shape-btn:focus {
    background: #f1f5ff;
    border: 4px solid #eab308;
    box-shadow: 0 2px 12px rgba(234,179,8,0.18);
    z-index: 2;
}
.sub-zone {
    box-sizing: border-box;
    position: absolute;
    background: rgba(100,255,180,0.13);
    border: 2px dashed #3b82f6;
    border-radius: 18px;
    z-index: 1;
    transition: box-shadow 0.2s;
    overflow: visible !important;
}
.sub-zone[data-shape="circle"] {
    border-radius: 50%;
    background: rgba(100,180,255,0.13);
}
.remove-subzone-btn {
    position: absolute;
    top: -12px;
    right: -12px;
    width: 22px;
    height: 22px;
    background: #ef4444;
    color: #fff;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    z-index: 10;
    font-size: 1.1rem;
    font-weight: bold;
    box-shadow: 0 1px 4px rgba(30,60,120,0.13);
    transition: background 0.2s;
    pointer-events: auto;
}
.remove-subzone-btn:hover {
    background: #b91c1c;
}
body {
    font-family: 'Inter', 'Segoe UI', 'Roboto', Arial, sans-serif;
    font-size: 18px;
    line-height: 1.6;
    padding: 20px;
    margin: 0;
    min-height: 100vh;
    background: linear-gradient(135deg, #eaf3fb 0%, #f8fafc 100%);
}

#zones-container {
    position: relative;
    min-height: 400px;
    /* border: 1px solid #ccc; */
    padding: 10px;
    
}

.zone {
    margin-bottom: 40px;
    background: #fff;
    border-radius: 18px;
    box-shadow: 0 6px 32px 0 rgba(30, 60, 120, 0.18);
    padding: 24px 18px 18px 18px;
    border: none;
}
.zone-title {
    font-size: 2rem;
    font-weight: 800;
    letter-spacing: 0.02em;
    margin-bottom: 18px;
    text-align: center;
    font-family: 'Inter', 'Segoe UI', 'Roboto', Arial, sans-serif;
    color: #1a3a6b;
    position: relative;
}
.zone-title::after {
    content: '';
    display: block;
    margin: 10px auto 0 auto;
    width: 48px;
    height: 4px;
    border-radius: 2px;
    background: linear-gradient(90deg, #3b82f6 0%, #60a5fa 100%);
}

.canvas {
    position: relative;
    height: 500px;
    border: 1px solid #ddd;
    background: #f9f9f9;
    background-image: radial-gradient(circle, #bbb 1px, transparent 1.5px);
    background-size: 18px 18px;
}

.line-item {
    position: absolute;
    padding: 6px 10px;
    border-radius: 6px;
    color: #2C2C2C;
    z-index: 20;
    user-select: none;
    cursor: grab;
    white-space: nowrap;
    display: flex;
    align-items: center;
    justify-content: center;
    transform-origin: 50% 50% !important;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    text-align: center;
    border: 3px solid black;
    font-weight: 700;
    transition: none;
}
.line-item.colliding-anim {
    transition: left 0.18s cubic-bezier(0.4,0,0.2,1), top 0.18s cubic-bezier(0.4,0,0.2,1), box-shadow 0.18s, border-color 0.18s;
}
.line-item.colliding {
    animation: shake 0.18s linear;
    border-color: #e74c3c;
    border-width: 3px;
    box-shadow: 0 0 8px #e74c3c44;
}
@keyframes shake {
    0% { transform: translateX(0) rotate(var(--rotation, 0deg)); }
    25% { transform: translateX(-4px) rotate(var(--rotation, 0deg)); }
    50% { transform: translateX(4px) rotate(var(--rotation, 0deg)); }
    75% { transform: translateX(-2px) rotate(var(--rotation, 0deg)); }
    100% { transform: translateX(0) rotate(var(--rotation, 0deg)); }
}

.line-item span {
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
}

/* Resize handles */
.resize-handle {
    position: absolute;
    width: 12px;
    height: 12px;
    z-index: 10;
    background: transparent;
    border: none;
}

.resize-handle.top-left {
    top: -6px;
    left: -6px;
    cursor: nw-resize;
}

.resize-handle.top {
    top: -6px;
    left: 50%;
    transform: translateX(-50%);
    cursor: n-resize;
}

.resize-handle.top-right {
    top: -6px;
    right: -6px;
    cursor: ne-resize;
}

.resize-handle.right {
    right: -6px;
    top: 50%;
    transform: translateY(-50%);
    cursor: e-resize;
}

.resize-handle.bottom-right {
    bottom: -6px;
    right: -6px;
    cursor: se-resize;
}

.resize-handle.bottom {
    bottom: -6px;
    left: 50%;
    transform: translateX(-50%);
    cursor: s-resize;
}

.resize-handle.bottom-left {
    bottom: -6px;
    left: -6px;
    cursor: sw-resize;
}

.resize-handle.left {
    left: -6px;
    top: 50%;
    transform: translateY(-50%);
    cursor: w-resize;
}

.rotate-handle {
    position: absolute;
    top: -18px;
    left: 50%;
    transform: translateX(-50%);
    width: 18px;
    height: 18px;
    background: transparent;
    border: none;
    border-radius: 50%;
    cursor: grab;
    z-index: 2;
    display: flex;
    align-items: center;
    justify-content: center;
    pointer-events: auto;
    padding: 0;
    transition: box-shadow 0.2s;
}
.rotate-handle:hover {
    cursor: alias;
    box-shadow: 0 0 4px #aaa;
}
.rotate-handle svg {
    display: block;
    width: 16px;
    height: 16px;
    pointer-events: none;
}
#tooltip {
    position: absolute;
    background: rgba(30, 60, 120, 0.82);
    color: #fff;
    padding: 7px 12px;
    border-radius: 14px;
    pointer-events: none;
    display: none;
    font-size: 1em;
    z-index: 1000;
    white-space: nowrap;
} 